查询增强： 对于问题——“阿尔茨海默病治疗的最新研究是什么？”通过访问知识图谱，LLM代理可以持续检索有关最新阿尔茨海默病治疗的结构化数据，比如“胆碱酯酶抑制剂”和“美兰汀”。 然后RAG系统随后就可以将问题增强为更具体的问题：“关于胆碱酯酶抑制剂和美兰汀在阿尔茨海默病治疗中的最新研究是什么？”

文档层次结构和向量数据库检索：

使用文档层次结构，确定哪些文档和chunk块与“胆碱酯酶抑制剂”和“美兰汀”最相关，并返回相关答案。
关于“胆碱酯酶抑制剂”的相关信息块提取规则有助于指导查询引擎提取最有用的chunks。
文档层次结构帮助查询引擎快速识别与副作用相关的文档，并开始提取文档内的chunk。
contextual dictionary字典帮助查询引擎快速识别与“胆碱酯酶抑制剂”相关的chunk，并开始提取与该主题相关的chunk。
关于“胆碱酯酶抑制剂”的已建立规则指出，关于胆碱酯酶抑制剂副作用的查询还应检查与酶X相关的chunk，这是因为酶X是一个不容忽视的已知副作用，相关的块相应地被包括在内。
递归知识图谱查询： 使用递归知识图谱查询，初始查询返回了“美兰汀”的一个副作用，称为“XYZ效应”。 “XYZ效应”被存储在一个单独的知识图谱中，用于递归上下文。 LLM被要求检查带有XYZ效应附加上下文的新增强查询。根据以往格式化的答案，它确定需要更多有关 XYZ 作用的信息才能得到满意的答案。然后，它在知识图谱中XYZ效应节点内进行更深入的搜索，从而执行多跳查询。 在XYZ效应节点内，它发现了可以包含在答案中的临床试验A和临床试验B的信息。

块控制访问 尽管临床试验A和B都包含有用的上下文，但与临床试验B节点相关的元数据标签指出，该节点的访问受用户限制。因此，一个常设的控制访问规则防止将临床试验B节点包含在对用户的响应中。 只有关于临床试验A的信息被返回给LLM，以帮助制定其返回的答案。

增强响应： 作为后处理步骤，您还可以选择使用特定于医疗行业的知识图谱增强后处理输出。例如，您可以包含针对美兰汀治疗的默认健康警告，或包含与临床试验A相关的任何额外信息。

块个性化： 存储了用户是研发部门的初级员工的额外上下文，并且用户被限制访问临床试验B的信息，答案是增强了一张提示信息，说明他们被禁止访问临床试验B的信息，并被告知向高级经理寻求更多信息。